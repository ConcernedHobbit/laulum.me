(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7889)}])},4260:function(e,t,n){"use strict";n.d(t,{$:function(){return l}});var r=n(5893);let l=e=>{let{style:t,...n}=e;return(0,r.jsx)("footer",{style:{marginBlock:"2rem",...t},...n})}},6767:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(5893),l=n(5675),o=n.n(l),a=n(8141),s=n.n(a);let i=e=>{let{size:t=72,...n}=e;return(0,r.jsx)("a",{href:"https://tko-aly.fi",target:"_blank",rel:"noreferrer noopener",...n,children:(0,r.jsx)(o(),{className:s().logo,src:"/logo.svg",width:t,height:t,alt:"Logo of TKO-\xe4ly ry"})})},c=e=>{let{children:t,style:n,...l}=e;return(0,r.jsxs)("header",{style:{display:"flex",gap:"1rem",alignItems:"center",height:"5rem",...n},...l,children:[t,(0,r.jsx)(i,{style:{marginLeft:"auto"}})]})}},7966:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(5893),l=n(1664),o=n.n(l),a=n(7427),s=n.n(a);let i=e=>{let{variant:t,...n}=e;return(0,r.jsx)(o(),{...n,className:"".concat(s().link," ").concat(t?s()[t]:"")})}},9881:function(e,t){"use strict";let n=e=>{e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();let t="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;";for(let n=0,r=t.length;n<r;n++)e=e.replace(RegExp(t.charAt(n),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(n));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")};t.Z=n},7889:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return B},default:function(){return O}});var r=n(5893),l=n(706),o=n.n(l),a=n(9008),s=n.n(a),i=n(5675),c=n.n(i),u=n(8978),x=n.n(u);let m=e=>{let{size:t=64,...n}=e;return(0,r.jsx)(c(),{...n,className:x().icon,src:"/icon.svg",width:t,height:t,alt:""})};var p=n(7966),d=n(4260),h=n(6767),f=n(7294);let g=()=>{let[e,t]=(0,f.useState)(!1);(0,f.useEffect)(()=>{if("serviceWorker"in navigator&&void 0!==window.workbox){let e=window.workbox,n=()=>{t(!0)};e.addEventListener("waiting",n)}},[t]);let n=(0,f.useCallback)(()=>{t(!1);let e=window.workbox;e.addEventListener("controlling",()=>{window.location.reload()}),e.messageSkipWaiting()},[]),r=(0,f.useCallback)(()=>{t(!1)},[t]);return{promptVisible:e,rejectUpdate:r,updateWorker:n}},_=e=>{let{updateWorker:t}=e;return(0,r.jsxs)("div",{style:{position:"absolute",top:"0",left:"0",color:"white",filter:"drop-shadow(0 0 0.75rem black);",textShadow:"-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",height:64,width:64,cursor:"pointer"},onClick:t,children:[(0,r.jsx)("p",{style:{margin:0,fontSize:"34px"},children:"âŸ³"}),(0,r.jsx)("p",{style:{margin:0,marginBottom:"5px",fontSize:"16px"},children:"Update"})]})};var y=n(1163),j=n.n(y),b=n(1515),k=n(5254),v=n.n(k);let w=e=>{let{variant:t,...n}=e;return(0,r.jsx)("button",{...n,className:"".concat(v().button," ").concat(t?v()[t]:"")})};var C=n(1587),N=n.n(C);let S=(0,f.forwardRef)(function(e,t){return(0,r.jsx)("input",{ref:t,...e,className:N().input})});var E=n(9881);let L=e=>{let{titles:t}=e,{ref:n,scrollTo:l,query:o,updateQuery:a,clearQuery:s}=function(){let e=(0,f.useRef)(null),[t,n]=(0,f.useState)(""),r=(0,f.useCallback)(e=>{let{target:t}=e;n(t.value)},[n]),l=(0,f.useCallback)(()=>n(""),[n]),o=(0,f.useCallback)(()=>{(null==e?void 0:e.current)&&e.current.scrollIntoView({behavior:"smooth"})},[]);return{ref:e,query:t,setQuery:n,updateQuery:r,clearQuery:l,scrollTo:o}}(),i=(0,f.useMemo)(()=>{if(0===o.trim().length)return t.map(e=>({title:e,score:100}));let e=(0,b.Kl)(o,t,{scorer:b.Nr,cutoff:40,limit:15});return e.map(e=>{let[t,n]=e;return{title:t,score:n}})},[o,t]),c=(0,f.useCallback)(()=>{0!==i.length&&j().push("songs/".concat((0,E.Z)(i[0].title)))},[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{onSubmit:c,children:(0,r.jsx)(S,{ref:n,placeholder:"Type song name and press enter/submit",value:o,onChange:a,onFocus:l})}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",alignItems:"center"},children:[0===i.length&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"No songs found"}),(0,r.jsx)(w,{variant:"secondary",onClick:s,children:"Clear search"})]}),i.map(e=>{let{title:t,score:n}=e;return(0,r.jsx)(p.r,{href:"/songs/".concat((0,E.Z)(t)),style:{width:"100%",opacity:Math.max(n,20)/100},children:t},t)})]})]})},T=e=>{let{titles:t}=e,{promptVisible:n,updateWorker:l}=g();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"laulum.me | TKO-\xe4ly Songbook"}),(0,r.jsx)("meta",{name:"keywords",content:"sitsit, laulu, sanat, lyrics, sitsilaulu, laulum.me, tko-\xe4ly, sitz, table party, academic table party, p\xf6yt\xe4juhla"}),(0,r.jsx)("meta",{name:"description",content:"Electronic Songbook by TKO-\xe4ly ry."}),(0,r.jsx)("meta",{name:"og:title",content:"laulum.me, the electronic songbook"}),(0,r.jsx)("meta",{name:"og:type",content:"website"}),(0,r.jsx)("meta",{name:"og:image",content:"https://laulum.me/icons/apple-touch-icon.png"}),(0,r.jsx)("meta",{name:"og:url",content:"https://laulum.me"}),(0,r.jsx)("meta",{name:"og:description",content:"TKO-\xe4ly's electronic songbook"}),(0,r.jsx)("meta",{name:"og:site_name",content:"laulum.me"})]}),(0,r.jsxs)(h.h,{children:[(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)(m,{style:n?{filter:"blur(3px)"}:{}}),n&&(0,r.jsx)(_,{updateWorker:l})]}),(0,r.jsx)("h1",{className:o().className,children:"laulum.me"})]}),(0,r.jsxs)("div",{style:{height:"100vh"},children:[(0,r.jsx)("main",{children:(0,r.jsx)(L,{titles:t})}),(0,r.jsx)(d.$,{style:{textAlign:"center"},children:(0,r.jsx)(p.r,{href:"https://github.com/TKOaly/laulum.me",variant:"primary",target:"_blank",rel:"noreferrer noopener",children:"Contribute a song on GitHub"})})]})]})};var B=!0,O=T},5254:function(e){e.exports={button:"Button_button__AxfIB",primary:"Button_primary__1n7q8",secondary:"Button_secondary__pRvhC"}},8978:function(e){e.exports={icon:"Icon_icon__v5Od5"}},1587:function(e){e.exports={input:"Input_input__IL5XS"}},7427:function(e){e.exports={link:"Link_link__1By9V",primary:"Link_primary__sKzNq",secondary:"Link_secondary__benXC",telegram:"Link_telegram__k1B_r"}},8141:function(e){e.exports={logo:"Logo_logo__HEXJH"}}},function(e){e.O(0,[664,675,789,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);