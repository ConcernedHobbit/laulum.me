(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(2831)}])},4260:function(e,n,t){"use strict";t.d(n,{$:function(){return o}});var r=t(5893);let o=e=>{let{style:n,...t}=e;return(0,r.jsx)("footer",{style:{marginBlock:"2rem",...n},...t})}},6767:function(e,n,t){"use strict";t.d(n,{h:function(){return c}});var r=t(5893),o=t(5675),i=t.n(o),l=t(8141),s=t.n(l);let a=e=>{let{size:n=72,...t}=e;return(0,r.jsx)("a",{href:"https://tko-aly.fi",target:"_blank",rel:"noreferrer noopener",...t,children:(0,r.jsx)(i(),{className:s().logo,src:"/logo.svg",width:n,height:n,alt:"Logo of TKO-\xe4ly ry"})})},c=e=>{let{children:n,style:t,...o}=e;return(0,r.jsxs)("header",{style:{display:"flex",gap:"1rem",alignItems:"center",height:"5rem",...t},...o,children:[n,(0,r.jsx)(a,{style:{marginLeft:"auto"}})]})}},7966:function(e,n,t){"use strict";t.d(n,{r:function(){return a}});var r=t(5893),o=t(1664),i=t.n(o),l=t(7427),s=t.n(l);let a=e=>{let{variant:n,...t}=e;return(0,r.jsx)(i(),{...t,className:"".concat(s().link," ").concat(n?s()[n]:"")})}},2831:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return E},default:function(){return S}});var r=t(5893),o=t(706),i=t.n(o),l=t(9008),s=t.n(l),a=t(1163),c=t.n(a),u=t(7294),d=t(1515),m=t(5675),_=t.n(m),h=t(8978),p=t.n(h);let f=e=>{let{size:n=64,...t}=e;return(0,r.jsx)(_(),{...t,className:p().icon,src:"/icons/icon.svg",width:n,height:n,alt:""})};var g=t(1587),x=t.n(g);let k=e=>(0,r.jsx)("input",{...e,className:x().input});var y=t(7966),j=t(5254),b=t.n(j);let v=e=>{let{variant:n,...t}=e;return(0,r.jsx)("button",{...t,className:"".concat(b().button," ").concat(n?b()[n]:"")})};var w=t(4260),N=t(6767);let C=()=>{let[e,n]=(0,u.useState)(!1);(0,u.useEffect)(()=>{if("serviceWorker"in navigator&&void 0!==window.workbox){let e=window.workbox,t=()=>{n(!0)};e.addEventListener("waiting",t)}},[n]);let t=(0,u.useCallback)(()=>{let e=window.workbox;e.addEventListener("controlling",()=>{window.location.reload()}),e.messageSkipWaiting()},[]),r=(0,u.useCallback)(()=>{n(!1)},[n]);return{promptVisible:e,rejectUpdate:r,updateWorker:t}},L=e=>{let{songs:n}=e,{promptVisible:t,updateWorker:o}=C(),[l,a]=(0,u.useState)(""),m=(0,u.useCallback)(e=>{let{target:n}=e;a(n.value)},[a]),_=(0,u.useMemo)(()=>{if(0===l.trim().length)return n.map(e=>({...e,score:100}));let e=(0,d.Kl)(l,n,{scorer:d.Nr,processor:e=>e.title,cutoff:40,limit:15});return e.map(e=>{let[n,t]=e;return{...n,score:t}})},[l,n]),h=(0,u.useCallback)(()=>{0!==_.length&&c().push("songs/".concat(_[0].slug))},[_]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"laulum.me | TKO-\xe4ly Songbook"})}),(0,r.jsxs)(N.h,{children:[(0,r.jsx)(f,{}),(0,r.jsx)("h1",{className:i().className,children:"laulum.me"}),t&&(0,r.jsx)(v,{style:{padding:".5rem"},onClick:o,children:"âŸ³ Update"})]}),(0,r.jsxs)("main",{children:[(0,r.jsx)("form",{onSubmit:h,children:(0,r.jsx)(k,{placeholder:"Type song name and press enter/submit",value:l,onChange:m})}),(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",alignItems:"center"},children:_.map(e=>{let{title:n,slug:t,score:o}=e;return(0,r.jsx)(y.r,{href:"/songs/".concat(t),style:{width:"100%",opacity:Math.max(o,20)/100},children:n},n)})})]}),(0,r.jsx)(w.$,{style:{textAlign:"center"},children:(0,r.jsx)(y.r,{href:"https://github.com/TKOaly/laulum.me",variant:"primary",target:"_blank",rel:"noreferrer noopener",children:"Contribute a song on GitHub"})})]})};var E=!0,S=L},5254:function(e){e.exports={button:"Button_button__AxfIB",primary:"Button_primary__1n7q8",secondary:"Button_secondary__pRvhC"}},8978:function(e){e.exports={icon:"Icon_icon__v5Od5"}},1587:function(e){e.exports={input:"Input_input__IL5XS"}},7427:function(e){e.exports={link:"Link_link__1By9V",primary:"Link_primary__sKzNq",secondary:"Link_secondary__benXC",telegram:"Link_telegram__k1B_r"}},8141:function(e){e.exports={logo:"Logo_logo__HEXJH"}}},function(e){e.O(0,[664,675,789,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);