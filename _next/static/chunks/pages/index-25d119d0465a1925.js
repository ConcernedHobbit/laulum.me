(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6938)}])},4260:function(e,t,n){"use strict";n.d(t,{$:function(){return l}});var r=n(5893);let l=e=>{let{style:t,...n}=e;return(0,r.jsx)("footer",{style:{marginBlock:"2rem",...t},...n})}},6767:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r=n(5893),l=n(5675),o=n.n(l),i=n(8141),s=n.n(i);let a=e=>(0,r.jsx)("a",{href:"https://tko-aly.fi",target:"_blank",rel:"noreferrer noopener",...e,children:(0,r.jsx)(o(),{className:s().logo,src:"/logo.svg",width:72,height:72,alt:"Logo of TKO-\xe4ly ry"})}),u=e=>{let{children:t,style:n,...l}=e;return(0,r.jsxs)("header",{style:{display:"flex",gap:"1rem",alignItems:"center",height:"5rem",...n},...l,children:[t,(0,r.jsx)(a,{style:{marginLeft:"auto"}})]})}},7966:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(5893),l=n(1664),o=n.n(l),i=n(7427),s=n.n(i);let a=e=>{let{variant:t,...n}=e;return(0,r.jsx)(o(),{...n,className:"".concat(s().link," ").concat(t?s()[t]:"")})}},6938:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return w},default:function(){return v}});var r=n(5893),l=n(706),o=n.n(l),i=n(9008),s=n.n(i),a=n(1163),u=n.n(a),c=n(7294),d=n(1515),m=n(1587),_=n.n(m);let p=e=>(0,r.jsx)("input",{...e,className:_().input});var h=n(7966),f=n(5254),g=n.n(f);let x=e=>{let{variant:t,...n}=e;return(0,r.jsx)("button",{...n,className:"".concat(g().button," ").concat(t?g()[t]:"")})};var k=n(4260),y=n(6767);let b=()=>{let[e,t]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if("serviceWorker"in navigator&&void 0!==window.workbox){let e=window.workbox,n=()=>{t(!0)};e.addEventListener("waiting",n)}},[t]);let n=(0,c.useCallback)(()=>{let e=window.workbox;e.addEventListener("controlling",()=>{window.location.reload()}),e.messageSkipWaiting()},[]),r=(0,c.useCallback)(()=>{t(!1)},[t]);return{promptVisible:e,rejectUpdate:r,updateWorker:n}},j=e=>{let{songs:t}=e,{promptVisible:n,updateWorker:l}=b(),[i,a]=(0,c.useState)(""),m=(0,c.useCallback)(e=>{let{target:t}=e;a(t.value)},[a]),_=(0,c.useMemo)(()=>{if(0===i.trim().length)return t.map(e=>({...e,score:100}));let e=(0,d.Kl)(i,t,{scorer:d.Nr,processor:e=>e.title,cutoff:40,limit:15});return e.map(e=>{let[t,n]=e;return{...t,score:n}})},[i,t]),f=(0,c.useCallback)(()=>{0!==_.length&&u().push("songs/".concat(_[0].slug))},[_]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"laulum.me | TKO-\xe4ly Songbook"})}),(0,r.jsxs)(y.h,{children:[(0,r.jsx)("h1",{className:o().className,children:"laulum.me"}),n&&(0,r.jsx)(x,{style:{padding:".5rem"},onClick:l,children:"âŸ³ Update"})]}),(0,r.jsxs)("main",{children:[(0,r.jsx)("form",{onSubmit:f,children:(0,r.jsx)(p,{placeholder:"Type song name and press enter/submit",value:i,onChange:m})}),(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",alignItems:"center"},children:_.map(e=>{let{title:t,slug:n,score:l}=e;return(0,r.jsx)(h.r,{href:"/songs/".concat(n),style:{width:"100%",opacity:Math.max(l,20)/100},children:t},t)})})]}),(0,r.jsx)(k.$,{style:{textAlign:"center"},children:(0,r.jsx)(h.r,{href:"https://github.com/TKOaly/laulum.me",variant:"primary",target:"_blank",rel:"noreferrer noopener",children:"Contribute a song on GitHub"})})]})};var w=!0,v=j},5254:function(e){e.exports={button:"Button_button__AxfIB",primary:"Button_primary__1n7q8",secondary:"Button_secondary__pRvhC"}},1587:function(e){e.exports={input:"Input_input__IL5XS"}},7427:function(e){e.exports={link:"Link_link__1By9V",primary:"Link_primary__sKzNq",secondary:"Link_secondary__benXC",telegram:"Link_telegram__k1B_r"}},8141:function(e){e.exports={logo:"Logo_logo__HEXJH"}}},function(e){e.O(0,[664,675,789,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);